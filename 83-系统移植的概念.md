# 8.3 系统移植的概念

嵌入式操作系统与桌面操作系统以及服务器操作系统最显著的区别之一就是它的可移植性。对嵌入式操作系统而言，它往往需要运行在不同体系结构的处理器和开发板上。而移植的目的就是为了改动较小的内容，支撑较为庞大上层的系统。

Android系统的移植是为了在特定的硬件平台上运行Android系统。主要包括以下两方面的工作：

* Linux驱动

驱动程序是硬件和上层软件的接口，Linux的驱动工作在内核空间。在Android手机系统中，需要基本的屏幕、触摸屏、键盘以及音频、摄像头、电话的Modem、Wi-Fi、蓝牙等多种设备驱动程序。

* Android本地框架中的硬件抽象层

Android系统硬件抽象层工作在用户空间，介于驱动程序和Android系统之间。Android系统对硬件抽象层通常都有标准的接口定义，实现这些接口也就给Android系统提供了硬件抽象层。

在具有了特定的硬件系统之后，通常在Linux中需要实现其他驱动程序，这些驱动程序通常是Linux的标准驱动程序，在Android平台和其他Linux平台基本上是相同的。主要的实现方面是Android系统中的硬件抽象层，硬件抽象层对下调用Linux中的驱动程序，对上提供接口，以供Android系统的其他部分（通常为Android本地框架层）调用。

Android的移植主要可以分成几个类型：基本图形用户界面（GUI）部分，包括显示部分和用户输入部分；硬件加速部分，包括媒体编解码和OpenGL；音视频输入输出环节，包括音频，视频输出和摄像头部分；连接部分，包括无线局域网，蓝牙，GPS；电话部分；附属部件，包括传感器、背光、振动器等。

对于大部分子系统，硬件抽象层和驱动程序都需要根据实际系统的情况实现，例如：传感器部分、音频部分、视频部分、摄像头部分、电话部分。也有一些子系统，硬件抽象层是标准的，只需要实现Linux内核中的驱动程序即可，例如：输入部分、振动器部分、无线局域网部分、蓝牙部分等。
